import{L as g,am as V,I as n,o as u,b as p,w as t,d as o,a as P,f as h,F as v,ab as k,aW as b,S as w}from"./index-Dw_RkeSb.js";import{P as x}from"./ProductCard-BoG7t19n.js";import{V as B}from"./VContainer-Cn03vobC.js";import{V as c}from"./VCol-Czuj4k-K.js";import{V as C}from"./VPagination-Fx8TITQl.js";import{V as E}from"./VRow-BwK1FEzd.js";import"./sweetalert2.all-B9kxGEux.js";import"./_commonjsHelpers-Cpj98o6Y.js";const S=k("h2",null,"最新商品",-1),i=20,H={__name:"ShopHere",setup(y){g(()=>{});const{api:f}=b(),_=V(),s=n(1),d=n(1),l=n([]),m=async()=>{var r,a;try{const{data:e}=await f.get("/product",{params:{itemsPerPage:i,page:s.value}});d.value=Math.ceil(e.result.total/i),l.value.splice(0,l.value.length,...e.result.data)}catch(e){console.log(e),_({text:((a=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:a.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return m(),(r,a)=>(u(),p(B,null,{default:t(()=>[o(E,null,{default:t(()=>[o(c,{cols:"12"},{default:t(()=>[S]),_:1}),(u(!0),P(v,null,h(l.value,e=>(u(),p(c,{cols:"12",md:"6",lg:"3",key:e._id},{default:t(()=>[o(x,w({ref_for:!0},e),null,16)]),_:2},1024))),128)),o(c,{cols:"12"},{default:t(()=>[o(C,{modelValue:s.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>s.value=e),m],length:d.value,rounded:"circle"},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1}))}};export{H as default};
