import{_ as V,am as h,I as k,o as i,b as y,w as s,d as r,ab as m,a as l,f as b,F as v,aW as x,aa as n,ac as I,ad as g}from"./index-DmCA67Jn.js";import{V as w}from"./VContainer-BIeFWhqe.js";import{V as p}from"./VCol-r7keVrk8.js";import{V as S}from"./VDivider-POa5kSPg.js";import{V as A}from"./VDataTable-Bmqm7ofe.js";import{V as B}from"./VRow-BO3gLcR0.js";import"./VPagination-CoOi2M4r.js";import"./VSelect-CQQnfeSC.js";import"./VList-BBCp83YD.js";import"./VListItem-C_rH6MOn.js";import"./VSlideGroup-miiO1r-v.js";const D=o=>(I("data-v-1d3adcd5"),o=o(),g(),o),C=D(()=>m("h1",{class:"text-center"},"訂單查詢",-1)),q={__name:"orders",setup(o){const{apiAuth:u}=x(),_=h(),d=k([]),f=[{title:"編號",key:"_id"},{title:"日期",key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:"商品",key:"cart",sortable:!1},{title:"金額",key:"price",value:t=>t.cart.reduce((a,e)=>a+e.quantity*e.p_id.price,0)}];return(async()=>{var t,a;try{const{data:e}=await u.get("/order");d.value.push(...e.result)}catch(e){console.log(e),_({text:((a=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:a.message)||"發生錯誤",snackbarProps:{color:"red"}})}})(),(t,a)=>(i(),y(w,{class:"main-box"},{default:s(()=>[r(B,null,{default:s(()=>[r(p,{cols:"12"},{default:s(()=>[C]),_:1}),r(S),r(p,{cols:"12"},{default:s(()=>[r(A,{items:d.value,headers:f},{"item.cart":s(e=>[m("ul",null,[(i(!0),l(v,null,b(e.item.cart,c=>(i(),l("li",{key:c._id},n(c.p_id.name)+" * "+n(c.quantity),1))),128))])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1}))}},J=V(q,[["__scopeId","data-v-1d3adcd5"]]);export{J as default};
