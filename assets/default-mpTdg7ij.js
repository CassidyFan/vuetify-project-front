import{p as R,m as J,h as G,i as U,j as $,d as a,k as de,l as ce,n as te,q as ae,s as le,t as A,v as me,x as ve,y as oe,z as fe,A as Ce,B as I,c as b,C as Be,D as Te,E as W,G as F,H as De,I as M,J as Ie,K as j,L as ge,M as Ne,N as he,O as Pe,P as He,Q as Le,R as be,S as E,T as Ae,U as Ee,W as k,X as Re,Y as Ue,Z as $e,$ as Fe,a0 as qe,a1 as je,a2 as ze,a3 as Me,a4 as Ye,a5 as Je,a6 as Ge,a7 as Oe,a8 as We,_ as O,o as d,a as C,w as s,a9 as L,F as D,f as Y,b as x,aa as H,ab as w,ac as ye,ad as Ve,u as K,ae as pe,af as Xe,ag as _e,ah as z,ai as Ke,aj as Q,ak as Qe,al as Ze,am as et,an as tt,r as at,e as h,g as B,ao as ie,V as lt}from"./index-D8R_kbzg.js";import{V as xe}from"./VList-rl_HIxec.js";import{V as Z,a as ot}from"./VListItem-DYFKPt6I.js";import{V as we,a as X}from"./VSelect-BogbgrBc.js";import{V as nt}from"./VRow-CInxM5Cs.js";import{V as P}from"./VCol-BwPc_UoW.js";import{V as ee}from"./VDivider-Dyo-3m8M.js";import{V as st}from"./VNavigationDrawer-BKLawO_2.js";import"./VSlideGroup-BK5PbTn-.js";const it=R({text:String,...J(),...G()},"VToolbarTitle"),rt=U()({name:"VToolbarTitle",props:it(),setup(e,o){let{slots:t}=o;return $(()=>{const g=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var n;return[g&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(n=t.default)==null?void 0:n.call(t)])]}})}),{}}}),ut=[null,"prominent","default","comfortable","compact"],ke=R({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>ut.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...de(),...J(),...ce(),...te(),...G({tag:"header"}),...ae()},"VToolbar"),re=U()({name:"VToolbar",props:ke(),setup(e,o){var p;let{slots:t}=o;const{backgroundColorClasses:g,backgroundColorStyles:n}=le(A(e,"color")),{borderClasses:i}=me(e),{elevationClasses:l}=ve(e),{roundedClasses:v}=oe(e),{themeClasses:y}=fe(e),{rtlClasses:V}=Ce(),u=I(!!(e.extended||(p=t.extension)!=null&&p.call(t))),f=b(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),r=b(()=>u.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Be({VBtn:{variant:"text"}}),$(()=>{var N;const c=!!(e.title||t.title),_=!!(t.image||e.image),S=(N=t.extension)==null?void 0:N.call(t);return u.value=!!(e.extended||S),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},g.value,i.value,l.value,v.value,y.value,V.value,e.class],style:[n.value,e.style]},{default:()=>[_&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(W,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(Te,{key:"image-img",cover:!0,src:e.image},null)]),a(W,{defaults:{VTabs:{height:F(f.value)}}},{default:()=>{var q,m,T;return[a("div",{class:"v-toolbar__content",style:{height:F(f.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(q=t.prepend)==null?void 0:q.call(t)]),c&&a(rt,{key:"title",text:e.title},{text:t.title}),(m=t.default)==null?void 0:m.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(T=t.append)==null?void 0:T.call(t)])])]}}),a(W,{defaults:{VTabs:{height:F(r.value)}}},{default:()=>[a(De,null,{default:()=>[u.value&&a("div",{class:"v-toolbar__extension",style:{height:F(r.value)}},[S])]})]})]})}),{contentHeight:f,extensionHeight:r}}}),dt=R({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ct(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=o;let g=0,n=0;const i=M(null),l=I(0),v=I(0),y=I(0),V=I(!1),u=I(!1),f=b(()=>Number(e.scrollThreshold)),r=b(()=>Ie((f.value-l.value)/f.value||0)),p=()=>{const c=i.value;if(!c||t&&!t.value)return;g=l.value,l.value="window"in c?c.pageYOffset:c.scrollTop;const _=c instanceof Window?document.documentElement.scrollHeight:c.scrollHeight;if(n!==_){n=_;return}u.value=l.value<g,y.value=Math.abs(l.value-f.value)};return j(u,()=>{v.value=v.value||l.value}),j(V,()=>{v.value=0}),ge(()=>{j(()=>e.scrollTarget,c=>{var S;const _=c?document.querySelector(c):window;_&&_!==i.value&&((S=i.value)==null||S.removeEventListener("scroll",p),i.value=_,i.value.addEventListener("scroll",p,{passive:!0}))},{immediate:!0})}),Ne(()=>{var c;(c=i.value)==null||c.removeEventListener("scroll",p)}),t&&j(t,p,{immediate:!0}),{scrollThreshold:f,currentScroll:l,currentThreshold:y,isScrollActive:V,scrollRatio:r,isScrollingUp:u,savedScroll:v}}const mt=R({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ke(),...he(),...dt(),height:{type:[Number,String],default:64}},"VAppBar"),vt=U()({name:"VAppBar",props:mt(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:t}=o;const g=M(),n=Pe(e,"modelValue"),i=b(()=>{var T;const m=new Set(((T=e.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:m.has("hide"),fullyHide:m.has("fully-hide"),inverted:m.has("inverted"),collapse:m.has("collapse"),elevate:m.has("elevate"),fadeImage:m.has("fade-image")}}),l=b(()=>{const m=i.value;return m.hide||m.fullyHide||m.inverted||m.collapse||m.elevate||m.fadeImage||!n.value}),{currentScroll:v,scrollThreshold:y,isScrollingUp:V,scrollRatio:u}=ct(e,{canScroll:l}),f=b(()=>i.value.hide||i.value.fullyHide),r=b(()=>e.collapse||i.value.collapse&&(i.value.inverted?u.value>0:u.value===0)),p=b(()=>e.flat||i.value.fullyHide&&!n.value||i.value.elevate&&(i.value.inverted?v.value>0:v.value===0)),c=b(()=>i.value.fadeImage?i.value.inverted?1-u.value:u.value:void 0),_=b(()=>{var ne,se;const m=Number(((ne=g.value)==null?void 0:ne.contentHeight)??e.height),T=Number(((se=g.value)==null?void 0:se.extensionHeight)??0);return f.value?v.value<y.value||i.value.fullyHide?m+T:m:m+T});He(b(()=>!!e.scrollBehavior),()=>{Ae(()=>{f.value?i.value.inverted?n.value=v.value>y.value:n.value=V.value||v.value<y.value:n.value=!0})});const{ssrBootStyles:S}=Le(),{layoutItemStyles:N,layoutIsReady:q}=be({id:e.name,order:b(()=>parseInt(e.order,10)),position:A(e,"location"),layoutSize:_,elementSize:I(void 0),active:n,absolute:A(e,"absolute")});return $(()=>{const m=re.filterProps(e);return a(re,E({ref:g,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...N.value,"--v-toolbar-image-opacity":c.value,height:void 0,...S.value},e.style]},m,{collapse:r.value,flat:p.value}),t)}),q}}),ft=R({...Ee({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),gt=U()({name:"VAppBarNavIcon",props:ft(),setup(e,o){let{slots:t}=o;return $(()=>a(k,E(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),ht=R({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Re,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...J(),...Ue({location:"top end"}),...te(),...G(),...ae(),...$e({transition:"scale-rotate-transition"})},"VBadge"),ue=U()({name:"VBadge",inheritAttrs:!1,props:ht(),setup(e,o){const{backgroundColorClasses:t,backgroundColorStyles:g}=le(A(e,"color")),{roundedClasses:n}=oe(e),{t:i}=Fe(),{textColorClasses:l,textColorStyles:v}=qe(A(e,"textColor")),{themeClasses:y}=je(),{locationStyles:V}=ze(e,!0,u=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(u)?+(e.offsetY??0):["left","right"].includes(u)?+(e.offsetX??0):0));return $(()=>{const u=Number(e.content),f=!e.max||isNaN(u)?e.content:u<=+e.max?u:`${e.max}+`,[r,p]=Me(o.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,E({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},p,{style:e.style}),{default:()=>{var c,_;return[a("div",{class:"v-badge__wrapper"},[(_=(c=o.slots).default)==null?void 0:_.call(c),a(Ye,{transition:e.transition},{default:()=>{var S,N;return[Je(a("span",E({class:["v-badge__badge",y.value,t.value,n.value,l.value],style:[g.value,v.value,e.inline?{}:V.value],"aria-atomic":"true","aria-label":i(e.label,u),"aria-live":"polite",role:"status"},r),[e.dot?void 0:o.slots.badge?(N=(S=o.slots).badge)==null?void 0:N.call(S):e.icon?a(Oe,{icon:e.icon},null):f]),[[Ge,e.modelValue]])]}})])]}})}),{}}}),bt=R({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...de(),...J(),...ce(),...he(),...te(),...G({tag:"footer"}),...ae()},"VFooter"),yt=U()({name:"VFooter",props:bt(),setup(e,o){let{slots:t}=o;const{themeClasses:g}=fe(e),{backgroundColorClasses:n,backgroundColorStyles:i}=le(A(e,"color")),{borderClasses:l}=me(e),{elevationClasses:v}=ve(e),{roundedClasses:y}=oe(e),V=I(32),{resizeRef:u}=We(c=>{c.length&&(V.value=c[0].target.clientHeight)}),f=b(()=>e.height==="auto"?V.value:parseInt(e.height,10)),{layoutItemStyles:r,layoutIsReady:p}=be({id:e.name,order:b(()=>parseInt(e.order,10)),position:b(()=>"bottom"),layoutSize:f,elementSize:b(()=>e.height==="auto"?void 0:f.value),active:b(()=>e.app),absolute:A(e,"absolute")});return $(()=>a(e.tag,{ref:u,class:["v-footer",g.value,n.value,l.value,v.value,y.value,e.class],style:[i.value,e.app?r.value:{height:F(e.height)},e.style]},t)),e.app?p:{}}}),Vt=""+new URL("logo-Bg3hgNOJ.png",import.meta.url).href,pt={data:()=>({items:[{title:"愛地球",to:"/loveearth"},{title:"最新活動",to:"/newsinfo"},{title:"好人好事",to:"/goodthings"}]})},_t={class:"text-center"};function xt(e,o,t,g,n,i){return d(),C("div",_t,[a(we,{"open-on-hover":""},{activator:s(({props:l})=>[a(k,E({color:"black"},l),{default:s(()=>[L(" 最新消息 ")]),_:2},1040)]),default:s(()=>[a(xe,null,{default:s(()=>[(d(!0),C(D,null,Y(e.items,(l,v)=>(d(),x(Z,{to:l.to,key:v},{default:s(()=>[a(ot,null,{default:s(()=>[L(H(l.title),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})]),_:1})])}const wt=O(pt,[["render",xt]]),kt={data:()=>({icons:[{name:"mdi-facebook",link:"https://www.wda.gov.tw/"},{name:"mdi-twitter",link:"https://www.wda.gov.tw/"},{name:"mdi-linkedin",link:"https://www.wda.gov.tw/"},{name:"mdi-instagram",link:"https://www.wda.gov.tw/"}]})},Se=e=>(ye("data-v-24da2ce7"),e=e(),Ve(),e),St=Se(()=>w("div",{class:"pt-0 year"},null,-1)),Ct=Se(()=>w("p",{style:{color:"black"}},"僅提供學習使用",-1)),Bt={class:"year"};function Tt(e,o,t,g,n,i){return d(),x(yt,{class:"bg-grey-darken-3 text-center d-flex flex-column",app:""},{default:s(()=>[w("div",null,[St,w("div",null,[(d(!0),C(D,null,Y(e.icons,l=>(d(),x(k,{key:l.name,icon:l.name,href:l.link,target:"_blank",class:"mx-4",variant:"text"},null,8,["icon","href"]))),128))])]),Ct,w("div",Bt,H(new Date().getFullYear())+" © qwiyeo ",1)]),_:1})}const Dt=O(kt,[["render",Tt],["__scopeId","data-v-24da2ce7"]]),It={data(){return{dialog:!1,profileData:{name:"",gender:"",age:"",job:"",phone:"",email:"",address:""}}},methods:{async saveProfile(){const e=K();try{const o=await e.updateProfile(this.profileData);console.log(o.text),this.dialog=!1}catch(o){console.error("更新失敗:",o)}}},mounted(){const e=K();e.profile(),this.profileData.name=e.account,this.profileData.email=e.email,this.profileData.phone=e.phone,this.profileData.address=e.address,this.profileData.age=e.age,this.profileData.gender=e.gender,this.profileData.job=e.job,console.log(this.profileData)}},Nt={class:"pa-4 text-center"},Pt=w("small",{class:"text-caption text-medium-emphasis"},"*必填",-1);function Ht(e,o,t,g,n,i){return d(),C("div",Nt,[a(Qe,{modelValue:n.dialog,"onUpdate:modelValue":o[8]||(o[8]=l=>n.dialog=l),"max-width":"600"},{activator:s(({props:l})=>[a(k,E({class:"text-none font-weight-regular","prepend-icon":"mdi-account",text:"編輯個人資料",variant:"tonal"},l),null,16)]),default:s(()=>[a(pe,null,{default:s(()=>[a(Xe,null,{default:s(()=>[L("個人資料")]),_:1}),a(_e,null,{default:s(()=>[a(nt,{dense:""},{default:s(()=>[a(P,{cols:"12",md:"6",sm:"6"},{default:s(()=>[a(z,{modelValue:n.profileData.name,"onUpdate:modelValue":o[0]||(o[0]=l=>n.profileData.name=l),label:"Name*",required:""},null,8,["modelValue"])]),_:1}),a(P,{cols:"12",sm:"6"},{default:s(()=>[a(X,{modelValue:n.profileData.gender,"onUpdate:modelValue":o[1]||(o[1]=l=>n.profileData.gender=l),items:["男","女"],label:"Gender*",required:""},null,8,["modelValue"])]),_:1}),a(P,{cols:"12",sm:"6"},{default:s(()=>[a(X,{modelValue:n.profileData.age,"onUpdate:modelValue":o[2]||(o[2]=l=>n.profileData.age=l),items:["0-17","18-29","30-54","54+"],label:"Age*",required:""},null,8,["modelValue"])]),_:1}),a(P,{cols:"12",sm:"6"},{default:s(()=>[a(X,{modelValue:n.profileData.job,"onUpdate:modelValue":o[3]||(o[3]=l=>n.profileData.job=l),items:["上班族","學生","家管","其他"],label:"Job*",required:""},null,8,["modelValue"])]),_:1}),a(P,{cols:"12",md:"12",sm:"6"},{default:s(()=>[a(z,{modelValue:n.profileData.phone,"onUpdate:modelValue":o[4]||(o[4]=l=>n.profileData.phone=l),label:"Phone*",required:""},null,8,["modelValue"])]),_:1}),a(P,{cols:"12",md:"12",sm:"6"},{default:s(()=>[a(z,{modelValue:n.profileData.email,"onUpdate:modelValue":o[5]||(o[5]=l=>n.profileData.email=l),label:"Email*",required:""},null,8,["modelValue"])]),_:1}),a(P,{cols:"12",md:"12",sm:"6"},{default:s(()=>[a(z,{modelValue:n.profileData.address,"onUpdate:modelValue":o[6]||(o[6]=l=>n.profileData.address=l),label:"Address*",required:""},null,8,["modelValue"])]),_:1})]),_:1}),Pt]),_:1}),a(ee),a(Ke,null,{default:s(()=>[a(Q),a(k,{text:"Close",variant:"plain",onClick:o[7]||(o[7]=l=>n.dialog=!1)}),a(k,{color:"primary",text:"Save",variant:"tonal",onClick:i.saveProfile},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Lt=O(It,[["render",Ht]]),At=e=>(ye("data-v-9b2157cc"),e=e(),Ve(),e),Et=At(()=>w("a",{href:"/",class:"text-center"},[w("img",{src:Vt,style:{width:"26%",position:"relative",top:"7px",left:"77px"}})],-1)),Rt={class:"text-h5"},Ut={class:"mx-auto text-center"},$t={class:"text-h5"},Ft={class:"text-caption mt-1"},qt={__name:"default",setup(e){const{mobile:o}=Ze(),t=K(),g=et(),n=M(!1),i=b(()=>[{to:"/register",text:"註冊",icon:"mdi-account-plus",show:!t.isLogin},{to:"/login",text:"登入",icon:"mdi-account-arrow-left",show:!t.isLogin},{to:"/cart",text:"購物車",icon:"mdi-cart",show:t.isLogin},{to:"/orders",text:"訂單",icon:"mdi-list-box",show:t.isLogin},{to:"/admin",text:"管理",icon:"mdi-cog",show:t.isLogin&&t.isAdmin}]),l=async()=>{await t.logout(),g({text:"登出成功",snackbarProps:{color:"green"}})},v=M(!1),y=()=>{const V=window.scrollY,u=window.innerHeight,f=document.documentElement.scrollHeight;v.value=V+u>=f/2};return ge(()=>{window.addEventListener("scroll",y)}),tt(()=>{window.removeEventListener("scroll",y)}),(V,u)=>{const f=at("router-view");return d(),C(D,null,[h(o)?(d(),x(st,{key:0,modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=r=>n.value=r)},{default:s(()=>[a(xe,{nav:""},{default:s(()=>[(d(!0),C(D,null,Y(i.value,r=>(d(),C(D,{key:r.to},[r.show?(d(),x(Z,{key:0,"prepend-icon":r.icon,to:r.to,title:r.text},{append:s(()=>[r.to==="/cart"&&h(t).cart>0?(d(),x(ue,{key:0,color:"error",content:h(t).cart,inline:""},null,8,["content"])):B("",!0)]),_:2},1032,["prepend-icon","to","title"])):B("",!0)],64))),128)),h(t).isLogin?(d(),x(Z,{key:0,"prepend-icon":"mdi-account-arrow-right",title:"登出",onClick:l})):B("",!0)]),_:1})]),_:1},8,["modelValue"])):B("",!0),a(vt,null,{default:s(()=>[a(wt),a(k,{to:"/aboutme"},{default:s(()=>[L("關於我們")]),_:1}),a(k,{to:"/shophere"},{default:s(()=>[L("商店")]),_:1}),a(Q),Et,a(Q),h(o)?(d(),x(gt,{key:0,onClick:u[1]||(u[1]=r=>n.value=!0)})):(d(),C(D,{key:1},[(d(!0),C(D,null,Y(i.value,r=>(d(),C(D,{key:r.to},[r.show?(d(),x(k,{key:0,"prepend-icon":r.icon,to:r.to},{default:s(()=>[L(H(r.text)+" ",1),r.to==="/cart"&&h(t).cart>0?(d(),x(ue,{key:0,color:"red",content:h(t).cart,floating:""},null,8,["content"])):B("",!0)]),_:2},1032,["prepend-icon","to"])):B("",!0)],64))),128)),h(t).isLogin?(d(),x(k,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:l},{default:s(()=>[L("登出")]),_:1})):B("",!0),h(t).isLogin?(d(),x(we,{key:1},{activator:s(({props:r})=>[a(k,E({icon:""},r),{default:s(()=>[a(ie,{color:"grey-darken-1",size:"small"},{default:s(()=>[w("span",Rt,H(h(t).account),1)]),_:1})]),_:2},1040)]),default:s(()=>[a(pe,null,{default:s(()=>[a(_e,null,{default:s(()=>[w("div",Ut,[a(ie,{color:"grey-darken-1"},{default:s(()=>[w("span",$t,H(h(t).account),1)]),_:1}),w("h3",null,H(h(t).account),1),w("p",Ft,H(h(t).email),1),a(ee,{class:"my-3"}),a(Lt,{initialName:h(t).account,initialEmail:h(t).email,initialAge:h(t).age,initialGender:h(t).gender,initialJob:h(t).job,initialAddress:h(t).address},null,8,["initialName","initialEmail","initialAge","initialGender","initialJob","initialAddress"]),a(ee,{class:"my-3"})])]),_:1})]),_:1})]),_:1})):B("",!0)],64))]),_:1}),a(lt,{class:"main-content",style:{"--v-layout-top":"5px","--v-layout-bottom":"5px"}},{default:s(()=>[a(f)]),_:1}),v.value?(d(),x(Dt,{key:1})):B("",!0)],64)}}},Kt=O(qt,[["__scopeId","data-v-9b2157cc"]]);export{Kt as default};
